shader ApplyCellLighting : ComputeColor, Texturing, CellLighting
{
    compose ComputeColor OriginColor;
    override float4 Compute()
    {   
        float3 cell = CellLightTex.Sample(LinearSampler, streams.CellUV).rgb;
        cell = cell / (1 + cell);
        float4 color = OriginColor.Compute();
        color.rgb *= cell;
        return color;
    }
};